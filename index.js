(function(o,e,i,d,t,S,E){"use strict";const{View:v,ScrollView:R}=t.General,{FormInput:c,FormRow:m,FormSwitch:l,FormSection:g,FormDivider:T}=t.Forms;function h(){return E.useProxy(e.storage),t.React.createElement(R,null,t.React.createElement(g,{title:"CustomRPC - Rich Presence"},t.React.createElement(c,{title:"Game Name",value:e.storage.rpcTitle,onChange:function(a){e.storage.rpcTitle=a,r()},placeholder:"e.g., Playing GTA VI"}),t.React.createElement(c,{title:"Details",value:e.storage.rpcDetails,onChange:function(a){e.storage.rpcDetails=a,r()},placeholder:"e.g., Exploring Vice City"}),t.React.createElement(c,{title:"State",value:e.storage.rpcState,onChange:function(a){e.storage.rpcState=a,r()},placeholder:"e.g., In a Mission"}),t.React.createElement(c,{title:"Large Image Key",value:e.storage.rpcLargeImage,onChange:function(a){e.storage.rpcLargeImage=a,r()},placeholder:"e.g., gta_vi_cover"}),t.React.createElement(c,{title:"Small Image Key",value:e.storage.rpcSmallImage,onChange:function(a){e.storage.rpcSmallImage=a,r()},placeholder:"e.g., character_icon"}),t.React.createElement(m,{label:"Show Start Timestamp",trailing:t.React.createElement(l,{value:e.storage.rpcStartTimestamp,onValueChange:function(a){e.storage.rpcStartTimestamp=a,r()}})}),t.React.createElement(m,{label:"Show End Timestamp (10 min later)",trailing:t.React.createElement(l,{value:e.storage.rpcEndTimestamp,onValueChange:function(a){e.storage.rpcEndTimestamp=a,r()}})}),t.React.createElement(g,{title:"Custom Buttons"},e.storage.rpcButtons.map(function(a,s){return t.React.createElement(v,{key:s},t.React.createElement(m,{label:`Button ${s+1}`,subLabel:a.label,trailing:t.React.createElement(l,{value:!0,onValueChange:function(){e.storage.rpcButtons.splice(s,1),r()}})}),t.React.createElement(T,null))}),t.React.createElement(c,{title:"Add Button Label",placeholder:"e.g., Join Beta",onSubmitEditing:function(a){let{nativeEvent:s}=a;s.text&&(e.storage.rpcButtons.push({label:s.text,url:"#"}),r())}})),t.React.createElement(m,{label:"Clear CustomRPC",onPress:function(){e.storage.rpcTitle="",e.storage.rpcDetails="",e.storage.rpcState="",e.storage.rpcLargeImage="",e.storage.rpcSmallImage="",e.storage.rpcStartTimestamp=!1,e.storage.rpcEndTimestamp=!1,e.storage.rpcButtons=[],r(),S.showToast("Custom RPC cleared.")}})))}const{setCustomStatus:n}=i.findByProps("setCustomStatus");e.storage.rpcTitle=e.storage.rpcTitle||"",e.storage.rpcDetails=e.storage.rpcDetails||"",e.storage.rpcState=e.storage.rpcState||"",e.storage.rpcLargeImage=e.storage.rpcLargeImage||"",e.storage.rpcSmallImage=e.storage.rpcSmallImage||"",e.storage.rpcStartTimestamp=e.storage.rpcStartTimestamp||!1,e.storage.rpcEndTimestamp=e.storage.rpcEndTimestamp||!1,e.storage.rpcButtons=e.storage.rpcButtons||[];const r=function(){n(e.storage.rpcTitle?{text:e.storage.rpcTitle,emoji:null,details:e.storage.rpcDetails||void 0,state:e.storage.rpcState||void 0,timestamps:e.storage.rpcStartTimestamp?{start:Date.now(),end:e.storage.rpcEndTimestamp?Date.now()+6e5:void 0}:void 0,assets:{large_image:e.storage.rpcLargeImage||void 0,small_image:e.storage.rpcSmallImage||void 0},buttons:e.storage.rpcButtons}:null)};r(),d.registerSettings("customrpc-settings",h);const C=function(){},f=function(){return n(null)};return o.onLoad=C,o.onUnload=f,o.updateRPC=r,o})({},vendetta.plugin,vendetta.metro,vendetta.settings,vendetta.ui.components,vendetta.ui.toasts,vendetta.storage);
